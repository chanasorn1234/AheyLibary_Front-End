<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ahey Library-Profile</title>
    <link rel="stylesheet" href="cssframework/bootstrap.min.css">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/style4.css">
    <link rel="stylesheet" href="fontawesome-free-6.1.1-web/css/all.css">
</head>
<body>
    <nav class="navbar navbar-expand-sm navbar-dark bg-dark">
        <div class="container">
            <div class="p-5">
                <a href="HOME.html" class="navbar-brand fs-3 fw-normal">AHEY LIBRARY</a>
            </div>
            <div class="p-5 justify-content-center">
                <form>
                    <input type="text" class="form-control" placeholder="Search" style="width: 480px;" />
                </form>
            </div>
            <div class="p-5 justify-content-end">
                <a href="index_login.html" class="btn btn-dark"><svg xmlns="http://www.w3.org/2000/svg" width="36" height="36"
                        fill="currentColor" class="bi bi-person" viewBox="0 0 16 16">
                        <path
                            d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z" />
                    </svg></a>
                <a href="#" class="btn btn-dark"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"
                        fill="currentColor" class="bi bi-bag" viewBox="0 0 16 16">
                        <path
                            d="M8 1a2.5 2.5 0 0 1 2.5 2.5V4h-5v-.5A2.5 2.5 0 0 1 8 1zm3.5 3v-.5a3.5 3.5 0 1 0-7 0V4H1v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4h-3.5zM2 5h12v9a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V5z" />
                    </svg></a>
            </div>
      </nav>

    <br>
    <div id="con_profile" class="container bootstrap snippets bootdey">
        <div class="row">
          <div class="profile-nav col-md-3">
              <div class="panel">
                  <div class="user-heading round">
                      <a href="#">
                          <img src="../img/__ia_thumb.jpg" alt="">
                      </a>
                      <h1 id="user_profile">Camila Smith</h1>
                      <p id="email_profile">deydey@theEmail.com</p>
                      <!-- -----เจนชื่อ user กับ email บล็อคแรก ----------------->
                      <script>
                          var userprofile = document.getElementById('user_profile')
                          var useremail = document.getElementById('email_profile')
                          userprofile.innerHTML = 'chanasorn1234'
                          useremail.innerHTML = 'chanasorn1234@gmail.com'
                      </script>
                      <!-- -------------------------------------------------->
                  </div>
              </div>
          </div>
          <div class="profile-info col-md-9">
              <div class="panel">
                  <div class="panel-body bio-graph-info">
                      <h1>About</h1>
                      <div class="row" style="background-color: #fbc02d;padding: 25px;border-radius: 5px; height: 15rem;">
                          <div class="bio-row">
                                <form id="edit_info"></form>
                                    <p style="color: white; font-size: 15px;display: inline; word-spacing:0.5rem;" ><i class="fa-solid fa-user"></i> Username<p style="color: white; font-size: 15px;display: inline; word-spacing:4.2rem;"> :</p><p style="color: white; font-size: 15px; display: inline;" id="fname"></p></p>
                                    <p style="color: white; font-size: 15px;display: inline; word-spacing:0.5rem;" ><i class="fa-solid fa-key"></i> Password<p style="color: white; font-size: 15px;display: inline; word-spacing:4.4rem;"> :</p><p style="color: white; font-size: 15px; display: inline;" id="pword"></p></p>
                                    <p style="color: white; font-size: 15px;display: inline; word-spacing:0.5rem;" ><i class="fa-solid fa-check"></i> Confirm password :<p style="color: white; font-size: 15px; display: inline;" id="cpword"></p></p>
                                    <p style="color: white; font-size: 15px;display: inline; word-spacing:0.5rem;" ><i class="fa-solid fa-envelope"></i> E-mail<p style="color: white; font-size: 15px;display: inline; word-spacing:5.8rem;"> :</p><p style="color: white; font-size: 15px; display: inline;" id="e_mail"></p></p>
                                    <!-- <input id="edituserid" name="name" type="text" size="20"> -->
                                    <button type="submit" id="btnedit_profile" class="btn" value="editing"  >Edit</button>
                                </form>
                                <!-------------------------------- popup สำหรับใส่รหัสผ่านยืนยัน ----------------------------------->
                                <div class="modal_contain" id="modal_contain">
                                    <div class="modal_body">
                                            <p class="popcon_header">กรุณาป้อนรหัสผ่านเก่าเพื่อยืนยัน</p>
                                        <!-- <form id="form_popcon"> -->
                                            <input type="password" class="form-control" id="popcon_password" placeholder="Password">
                                            <div id="error_messsage"></div>
                                            <button type="submit" class="btn" id="popcon">Confirm</button>
                                            <button type="submit" class="btn" id="popcancle">Cancle</button>
                                        <!-- </form> -->
                                    </div>
                                </div>
                                <!-------------------------------- END ----------------------------------->
                                <script>
                                    var passname = document.getElementById('fname')
                                    var pass_password = document.getElementById('pword')
                                    var pass_confirmpassword = document.getElementById('cpword')
                                    var passemail = document.getElementById('e_mail')
                                    
                                    //-------------เจนข้อมูลuser---------------------------
                                    passname.innerHTML = '\xa0xxx'
                                    pass_password.innerHTML = '\xa0xxx'
                                    pass_confirmpassword.innerHTML = '\xa0xxx'
                                    passemail.innerHTML = '\xa0xxx'
                                   //----------------------------------------------------
                                   
                                   //-------------กดปุ่มเพื่อแกไขข้อมูล user---------------------------------------------------
                                   document.getElementById('btnedit_profile').addEventListener('click', function() {
                                    if(document.getElementById('btnedit_profile').value === 'editing'){
                                        document.getElementById('btnedit_profile').value = 'done'   
                                        var preusername = document.getElementById('fname')
                                        var prepassword = document.getElementById('pword')
                                        var preconfirmpassword = document.getElementById('cpword')
                                        var edit_butt = document.getElementById('btnedit_profile')
                                        edit_butt.innerHTML = 'Update'

                                        //---------------เมื่อกดปุ่มให้เปลี่ยนเปน input text เพื่อรับข้อมูลใหม่
                                        passname.innerHTML = `<input type="text" id="edituserid" name="username" value="${preusername.innerHTML}"/>`
                                        pass_password.innerHTML = `<input type="password" id="edituserpassword" name="password" value="${prepassword.innerHTML}"/>`
                                        pass_confirmpassword.innerHTML = `<input type="password" id="editconfirmpassword" name="confirmpassword" value="${preconfirmpassword.innerHTML}"/>`   
                                    }
                                        //------------Get ข้อมูลใหม่
                                        const newusername = document.getElementById('edituserid')
                                        const newpassword = document.getElementById('edituserpassword')
                                        const newconpassword = document.getElementById('editconfirmpassword')
                                        
                                        //--------------กดปุ่มอีกครั้งเพื่อบันทึกข้อมูล------------------------
                                        document.getElementById('btnedit_profile').onclick = function(){
                                            console.log(newusername.value,newpassword.value,newconpassword.value)
                                            var result = checknewusername(newusername.value) //--------เช็คว่า username ถูกต้องหรือไม่
                                            var result2 = checknewpassword(newpassword.value) //-------เช็คว่า password ถูกต้องหรือไม่
                                            var result3 = checkconpassword(newpassword.value,newconpassword.value) //เช็คว่า password ตรงกันหรือไม่
                                            if(result === true && result2 === true && result3 == true){  //ข้อมูลถูกต้องหมด
                                            //------------------จัดการ popup------------------
                                            popup = document.getElementById('modal_contain')
                                            popup.classList.add('show') //แสดง popup จากไฟล์ css style4
                                            const popcon_password = document.getElementById('popcon_password')
                                            const error_messsage = document.getElementById('error_messsage')
                                            document.getElementById('popcon').onclick = function(){ //กดปุ่ม Confirm
                                                if(popcon_password.value === '1234'){ //เช็ครหัสผ่าน
                                                    window.location.href = 'index_profile.html'
                                                }
                                                else{
                                                    console.log('fail')
                                                    error_messsage.innerHTML = 'รหัสผ่านไม่ถูกต้อง'
                                                }
                                            }
                                            document.getElementById('popcancle').onclick = function(){//กดปุ่ม Cancle
                                                popup.classList.remove('show')
                                                popcon_password.value=''
                                                error_messsage.innerHTML = ''
                                                window.location.href = 'index_profile.html'
                                                
                                            }
                                            //---------------------------------------------------------------
                                            
                                            }
                                        }
                                        
                                    })
                                    //-------------ฟังชันก์สำหรับเช็ค username password-----------------
                                    function checknewusername(username){
                                        if(username === ""){
                                            alert('กรุณาป้อนชื่อผู้ใช้งาน')
                                            return false
                                        }
                                        if(username.length <3){
                                            alert('ชื่อผู้ใช้ต้องไม่น้อยกว่า 3 หลัก')
                                            return false
                                        }
                                        if(username.length > 12){
                                            alert('ชื่อผู้ใช้ต้องไม่เกิน 12 หลัก')
                                            return false
                                        }
                                        if(username.indexOf(' ')>=0){
                                            alert('ไม่อนุญาตให้มีเว้นวรรค')
                                            return false
                                        }
                                        return true
                                    }
                                    function checknewpassword(password){
                                        if(password ===""){
                                            alert('กรุณาป้อนรหัสผ่าน')
                                            return false
                                        }
                                        if(password.length < 4){
                                            alert('รหัสผ่านต้องไม่น้อยกว่า 4 หลัก')
                                            return false
                                        }
                                        if(password.length >20){
                                            alert('รหัสผ่านต้องไม่เกิน 20 หลัก')
                                            return false
                                        }
                                        if(password.indexOf(' ')>=0){
                                            alert('ไม่อนุญาตให้มีเว้นวรรค')
                                            return false
                                        }
                                        return true
                                    }
                                    function checkconpassword(password,conpassword){
                                        if(conpassword === ""){
                                            alert('กรุณาป้อนรหัสผ่านอีกครั้งเพื่อยืนยัน')
                                            return false
                                        }
                                        if(password != conpassword){
                                            alert('รหัสผ่านไม่เหมือนกัน')
                                            return false
                                        }
                                        return true
                                    }

                                </script>
                          </div>
                          <div class="bio-row">
                            <form id="usermoney">
                            <p style="color: white; font-size: 15px;display: inline;"><i style="color: blueviolet;" class="fa-brands fa-bitcoin"></i> My money :<p style="color: white; font-size: 15px; display: inline;" id="my_money"></p></p>
                            <p style="color: white; font-size: 15px;display: inline;"><i style="color: blueviolet;"class="fa-solid fa-star"></i></i> My score :<p style="color: white; font-size: 15px; display: inline;" id="my_score"></p></p>
                            <button style="margin-top: 1rem; height: 33px;width: 100px; font-size: 15px; padding: 0;" type="button" id="buttpayment" class="btn btn-success">Payment</button>
                            </form>
                            <script>
                                //-------เจนเงินกับคะแนน-------------------
                                var mymoney = document.getElementById('my_money')
                                var myscore = document.getElementById('my_score')
                                mymoney.innerHTML = '\xa0555'
                                myscore.innerHTML = '\xa0555'
                                //-----------กดปุ่มเติมเงิน-----------------
                                document.getElementById('buttpayment').addEventListener('click',function(){
                                    window.location.href = '#'
                                })
                            </script>
                          </div>
                      </div>
                  </div>
              </div>
              <br>
              <br>
          </div>
        </div>
        </div>
        <span style="margin-left:7.5vw ; font-size: 21px;">Read On</span>
        <div style="height: 20rem;width:81.5rem ;margin-left: 7.5vw;margin-top: 20px; background-color: rgb(227, 227, 227); padding: 10px; border-radius: 5px;">
          <div id="wrapper">
              <script>
                  //--------เทมเพลตเจนหนังสือที่อ่านค้างไว้----------------
                  var read_con = 1 //จำนวนหนังสือที่อ่านค้างไว้
                  for(var i=0;i<read_con;i++){
                    var mom = document.getElementById('wrapper')
                    var newdiv = document.createElement('div')
                    newdiv.classList.add('itembook')
                    mom.appendChild(newdiv)
                    var child_div = document.createElement('div')
                    child_div.classList.add('picture')
                    newdiv.appendChild(child_div)
                    var img = document.createElement('img')
                    //----รูปหนังสือ------
                    img.src ="https://www.cp.eng.chula.ac.th/books/wp-content/uploads/sites/5/2018/08/python_cover_v2.png"
                    child_div.appendChild(img);
                    img.style.width = "150px"
                    img.style.height = "200px"
                    //----ลิงค์สำหรับอ่านต่อ----------
                    var read_on = document.createElement('a')
                    read_on.href = '#'
                    //----สร้างปุ่มเอาไว้ใส่ลิงค์-----------
                    var butt = document.createElement('button')
                    butt.classList.add('btn')
                    butt.id = 'butt'+i.toString()
                    butt.innerHTML = 'อ่านต่อ'
                    butt.style.width = "100px"
                    butt.style.backgroundColor = "green"
                    butt.style.color = "white"
                    read_on.appendChild(butt)
                    newdiv.appendChild(read_on)
                }
              </script>
               <!-- <div class="itembook"><div id="picture"></div></div> -->
              <!--<div class="itembook">box2</div>
              <div class="itembook">box3</div>
              <div class="itembook">box4</div>
              <div class="itembook">box5</div> -->
          </div>
        </div>
        <br>
        <br>
        <span style="margin-left:7.5vw ; font-size: 21px;">My Library</span>
        <div style="height: 32rem;width:81.5rem ;margin-left: 7.5vw;margin-top: 20px; background-color: rgb(227, 227, 227); padding: 10px; border-radius: 5px;">
            <div id="mylibwrapper">
                <script>
                    var amountbook = 1 //จำนวนหนังสือทั้งหมดที่มี

                    var mom2 = document.getElementById('mylibwrapper')
                    var col_child = document.createElement('div')
                    col_child.classList.add('mylibpicture')
                    var lib_child = document.createElement('div')
                    lib_child.classList.add('rowitemmylib')
                    //-----เทมเพลตเจนหนังสือทั้งหมดที่มี-------------
                    for(var m=0;m<amountbook;m++){
                        var linkbook = document.createElement('a')
                        var lib_img = document.createElement('img')
                        //ใส่รูปหนังสือ
                        lib_img.src = "https://www.cp.eng.chula.ac.th/books/wp-content/uploads/sites/5/2018/08/python_cover_v2.png"
                        //ใส่ลิงค์ของหนังสือ
                        linkbook.href = "#"
                        lib_img.style.width = "150px"
                        lib_img.style.height = "200px"
                        lib_img.style.marginLeft = "5rem"
                        lib_img.style.marginBottom = "5rem"
                        mom2.appendChild(lib_child)
                        lib_child.appendChild(col_child)
                        col_child.appendChild(linkbook)  
                        linkbook.appendChild(lib_img)

                    }
                </script>
                <!-- <div id="rowitemmylib">
                    <div id="mylibpicture"></div>
                </div> -->
            </div>
        </div>
        <br>
        <br>
        <span style="margin-left:7.5vw ; font-size: 21px;">My Thread</span>
        <div style="height: 32rem;width:81.5rem ;margin-left: 7.5vw;margin-top: 20px; background-color: rgb(227, 227, 227); padding: 10px; border-radius: 5px;">
            <div id="wrapper2">
                <div class="itemthread">
                    <script>
                        var amount_thread = 1 //จำนวนกระทู้ทั้งหมดที่มี
                        //เทมเพลตเจนจำนวนกระทู้ทั้งหมดที่มี
                        for(var j=0;j<amount_thread;j++){
                            var mom3 = document.getElementById('wrapper2')
                            var tchild1 = document.createElement('div')
                            tchild1.classList.add('itemthread')
                            mom3.appendChild(tchild1)
                            var t_row = document.createElement('div')
                            tchild1.appendChild(t_row)
                            var timg =  document.createElement('img')
                            timg.id = 't_imger'
                            t_row.appendChild(timg)
                            //รูปหนังสือที่กระทู้คุยกัน
                            timg.src = "https://www.cp.eng.chula.ac.th/books/wp-content/uploads/sites/5/2018/08/python_cover_v2.png"
                            t_row.appendChild(timg)
                            timg.style.width = "150px"
                            timg.style.height = "200px"
                            timg.style.marginLeft = "30px"
                            timg.style.verticalAlign = "top"
                            var tbox_text = document.createElement('div')
                            tbox_text.id = 't_boxtext'
                            tbox_text.style.marginLeft = "25px"
                            t_row.appendChild(tbox_text)
                            var textt = document.createElement('div')
                            textt.classList.add('display_text')
                            tbox_text.appendChild(textt) 
                            //************หัวเรื่องของกระทู้**************
                            textt.innerHTML = 'Another instance of placeholder content for this other custom component. It is intended to mimic what some real-world content would look like, and we are using it here to give the component a bit of body and size. (เนื้อหา)'             
                            var link_thread = document.createElement('a')
                            //สร้างลิงค์ไปยังกระทู้
                            link_thread.href = '#'
                            var tbutt = document.createElement('button')
                            tbutt.id = "tbtt"+j.toString()
                            tbutt.classList.add('btn')
                            tbutt.id = 't_butt'
                            //สร้างปุ่มเพื่อเอาปุ่มยัดไปในลิงค์
                            link_thread.appendChild(tbutt)
                            tbox_text.appendChild(link_thread)
                            tbutt.innerHTML = "ไปที่กระทู้"

                        }
                    </script>
                </div>
            </div>
        </div>



    <script src="js/bootstrap.min.js"></script>
    <script src="custom_js/custom2.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery-validation@1.19.3/dist/jquery.validate.js"></script>
</body>
</html>



 <!-- <div class="itemthread">
                    <div>
                        <img src="https://www.cp.eng.chula.ac.th/books/wp-content/uploads/sites/5/2018/08/python_cover_v2.png" class="w-100 h-100" alt="...">
            
                        </img>
                        <div class="col-md-6 p-4 ps-md-0">
                            <h5 class="mt-0">หัวข้อ</h5>
                            <p>Another instance of placeholder content for this other custom component. It is intended
                                to mimic what some real-world content would look like, and we're using it here to give
                                the component a bit of body and size. (เนื้อหา)</p>
                                <button type="button" class="btn btn-success btn-sm" style="width: 100px;" data-bs-toggle="modal" data-bs-target="#exampleModal"><a href="Go_Thread.html" style="text-decoration: none; color: white;">ไปหน้ากระทู้</a></button>
                        </div>
                    </div>
                </div> -->